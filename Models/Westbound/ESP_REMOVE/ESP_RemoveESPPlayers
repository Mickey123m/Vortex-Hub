if shared.PlayerESP_Data then
    -- 1. Desconecta todos os eventos (Monitoramento e Loops)
    for _, conn in pairs(shared.PlayerESP_Data.Connections) do
        if conn then conn:Disconnect() end
    end
    
    -- 2. Remove todos os objetos visuais de cada player
    for player, data in pairs(shared.PlayerESP_Data.ActiveESP) do
        if data.Highlight then data.Highlight:Destroy() end
        if data.Billboard then data.Billboard:Destroy() end
        
        -- Busca adicional por seguran√ßa
        local char = player.Character
        if char then
            local h = char:FindFirstChild("PlayerHighlight")
            if h then h:Destroy() end
            for _, p in pairs(char:GetChildren()) do
                local b = p:FindFirstChild("PlayerESP")
                if b then b:Destroy() end
            end
        end
    end
    
    -- 3. Limpa a tabela de dados
    shared.PlayerESP_Data = nil
    print("ESP Players totalmente removido e processos encerrados.")
end