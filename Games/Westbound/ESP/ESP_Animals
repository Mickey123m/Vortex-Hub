shared.BodyESP_Enabled = true -- TRAVA DE ATIVAÇÃO
shared.BodyESP_Data = {}

local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")

local function IsSpecial(name)
    local lower = name:lower()
    return (lower:find("grizzly") or lower:find("legendary") or lower:find("direwolf"))
end

local function EnsureBodyESP(animal)
    if not shared.BodyESP_Enabled then return end -- SÓ CRIA SE ESTIVER ATIVADO
    if not animal or not animal.Parent or shared.BodyESP_Data[animal] then return end

    local special = IsSpecial(animal.Name)
    local highlight = Instance.new("Highlight")
    highlight.Name = "BodyHighlight"
    highlight.Parent = animal
    highlight.FillColor = special and Color3.new(1,1,1) or Color3.new(1,1,0)
    highlight.OutlineColor = special and Color3.new(0,0,0) or Color3.new(1,1,1)
    highlight.FillTransparency = 0.5
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    
    shared.BodyESP_Data[animal] = true
end

local animalsFolder = Workspace:WaitForChild("Animals", 10)
RunService.Heartbeat:Connect(function()
    if not shared.BodyESP_Enabled then return end
    for _, animal in ipairs(animalsFolder:GetChildren()) do
        EnsureBodyESP(animal)
    end
end)